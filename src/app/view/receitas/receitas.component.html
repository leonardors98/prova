<div
  class="w-full flex justify-content-center flex-wrap card-container mt-5 p-2"
>
  <div class="surface-card p-4 shadow-6 border-round w-full lg:w-8">
    <div class="col-12">
      <div class="grid p-fluid" [formGroup]="receitaGroup">
        <div class="col">
          <app-input
            label="Nome da receita"
            controlName="nome"
            type="text"
          ></app-input>
        </div>
        <div class="col">
          <app-input-number
            label="Tempo de preparo"
            controlName="tempoPreparo"
          ></app-input-number>
        </div>
        <div class="col">
          <app-input-number
            mode="currency"
            label="Custo aproximado"
            controlName="custoAproximado"
          ></app-input-number>
        </div>
      </div>

      <!--  -->
      <div class="grid p-fluid" [formGroup]="ingredienteGroup">
        <div class="sm:col-6 col-12">
          <app-input type="text" label="Ingrediente" controlName="nome">
          </app-input>
        </div>
        <div class="align-self-end pb-2 mr-2">
          <button
            pButton
            type="button"
            class="p-button-rounded p-button-outlined mt-3"
            icon="pi pi-plus"
            iconPos="left"
            [disabled]="ingredienteGroup.invalid"
            (click)="saveIngrediente()"
          ></button>
        </div>
      </div>
    </div>
    <div class="col">
      <p-table
        [value]="receitaGroup.get('ingrediente').value"
        responsiveLayout="scroll"
        styleClass="p-datatable-sm"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>#</th>
            <th>Nome</th>
            <th>excluir</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product let-rowIndex="rowIndex">
          <tr>
            <td>{{ rowIndex + 1 }}</td>
            <td>{{ product.nome }}</td>
            <td>
              <button
                pButton
                type="button"
                class="p-button-rounded p-button-danger p-button-outlined"
                icon="pi pi-times"
                iconPos="left"
                (click)="deleteIngrediente(rowIndex)"
              ></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <button
      class="mt-3"
      pButton
      label="salvar"
      (click)="saveReceita()"
      [disabled]="receitaGroup.invalid"
    ></button>
  </div>
</div>
